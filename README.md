# بيانات شعبور

يحتوي هذا المستودع على الشفرة البرمجية التي يتم من خلالها تجهيز مجموعة بيانات مشروع شعبور.

*ملاحظة: تم تجربة الشفرة البرمجية على نظام تشغيل `Ubunutu 20.04` ونسخة `Python 3.8.8`.*

## هدف المستودع

الهدف من المستودع هو تجميع ومعالجة وترتيب البيانات من مختلف المواقع الشعرية المشهورة ليتم تدريب نماذج مشروع شعبور المختلفة باستخدامها.

## محتويات المستودع

```bash
sha3bor-data -> المجلد الرئيسي للمستودع
├── data -> يحتوي هذا المجلد على البيانات التي تم تجميعها ومجموعة البيانات بعد معالجتها وترتيبها
├── src -> المجلد الأساسي للشفرة البرمجية
│   ├── crawl.py -> الملف الذي من خلاله يتم تشغيل الشفرة البرمجية
│   ├── constants.py -> الثوابت العامة في الشفرة البرمجية
│   ├── crawler.py -> فئة مجردة تُمثِّل الشفرة البرمجية الأساسية لفئات تجميع البيانات
│   ├── era.py -> فئة مجردة تُمثِّل الشفرة البرمجية الأساسية لفئات العصور الشعرية
│   ├── poet.py -> فئة مجردة تُمثِّل الشفرة البرمجية الأساسية لفئات الشعراء
│   ├── poem.py -> فئة مجردة تُمثِّل الشفرة البرمجية الأساسية لفئات القصائد
│   ├── adabworld -> مجلد الشفرة البرمجية الخاصة بموقع عالم الأدب
│   │   ├── constants.py -> الثوابت الخاصة بالشفرة البرمجية لموقع عالم الأدب
│   │   ├── adabworld_crawler.py -> فئة تجميع ومعالجة البيانات لموقع عالم الأدب
│   │   ├── adabworld_era.py -> فئة تجميع ومعالجة العصور لموقع عالم الأدب
│   │   ├── adabworld_poet.py -> فئة تجميع ومعالجة الشعراء لموقع عالم الأدب
│   │   └── adabworld_poem.py -> فئة تجميع ومعالجة القصائد لموقع عالم الأدب
│   ├── aldiwan -> مجلد الشفرة البرمجية الخاصة بموقع الديوان
│   │   └── محتويات المجلد مطابقة لمحتويات مجلد موقع عالم الأدب
│   ├── dctabudhabi -> مجلد الشفرة البرمجية الخاصة بموقع الموسوعة الشعرية
│   │   └── محتويات المجلد مطابقة لمحتويات مجلد موقع عالم الأدب
│   └── utils -> يحتوي هذا المجلد على مجموعة من الدوال المساعدة لإتمام مهام مختلفة
│       ├── process_utils.py -> مجموعة الدوال المساعدة في عملية معالجة النصوص الشعرية
│       └── pw_utils.py -> مجموعة الدوال المساعدة في عملية تجميع البيانات من المواقع الشعرية
├── README.md -> الملف الذي تقرأه الآن :)
└── requirements.txt -> ملف يحتوي على المكتبات المطلوبة لعمل الشفرة البرمجية
```

## المتطلبات

### ما هي المكتبات التي سيتم تثبيتها؟

<div dir="rtl">

| المكتبة | الوصف |
| :---: | --- |
| [PyArabic](https://pypi.org/project/PyArabic) | مكتبة لمعاجلة النصوص العربية. |
| [beautifulsoup4](https://pypi.org/project/beautifulsoup4) | مكتبة لمعالجة صفحات الانترنت واستخراج البيانات منها. |
| [fake-useragent](https://pypi.org/project/fake-useragent) | مكتبة للحصول على User-Agent عشوائي في كل مرة يتم فيها استخدام المتصفح. |
| [playwright](https://pypi.org/project/playwright) | مكتبة لأتمتت عملية التعامل مع المتصفحات ومعالجة صفحات الانترنت. |
| [tqdm](https://pypi.org/project/tqdm) | مكتبة لعرض شريط التقدّم ومتابعة عملية جمع البيانات ومعالجتها. |

</div>

### تثبيت المكتبات

لتثبيت كامل المكتبات المطلوبة لتشغيل الشفرة البرمجية يجب عليك تنفيذ الأمر التالي:

```bash
sha3bor-data:~$ pip install -r requirements.txt
```

بعد ذلك يجب تثبيت محركات المتصفحات الخاصة بإطار عمل PlayWright من خلال تنفيذ الأمر التالي:

```bash
sha3bor-data:~$ playwright install
```

في حال واجهة أي مشاكل خلال تثبيت محركات المتصفحات الخاصة بإطار عمل PlayWright، يمكنك الإستعانة [بالتوثيق الرسمي](https://playwright.dev/python/docs/intro#installation) الخاص بالإطار.

## تشغيل الشفرة البرمجية

لتشغيل الشفرة البرمجية يجب استخدام ملف `src/crawl.py` وتمرير قيَم المتغيرات المناسبة له.

على سبيل المثال، لنبدأ عملية جمع البيانات من موقع عالم الأدب، يمكننا تنفيذ الأمر التالي من المجلد الرئيسي للمستودع:

```bash
sha3bor-data:~$ python src/crawl.py --website adabworld
```

المتغيرات التي يمكن تمريرها للملف:

<div dir="rtl">

| المتغير | الوصف |
| :---: | --- |
| `website--` | الموقع الذي يجب جمع البيانات منه. |
| `no_headless--` | بتمرير هذا الخيار، سيتم إظهار صفحات المتصفح على الشاشة. يُنصح باستخدامه خلال عملية التطوير فقط. |
| `max_retries--` | العدد الأقصى من المحاولات لمعالجة صفحة معينة. |
| `sleep_time--` | المدة الزمنية التي يجب انتظارها قبل معالجة الصفحة التالية. يتم التعبير عن الرقم بوحدة الميلي ثانية. |

</div>

## المواقع المدعومة

يُمكن حاليًّا جمع البيانات من المواقع التالية:

- [عالم الأدب](https://adabworld.com) (adabworld).
- [الديوان](https://www.aldiwan.net) (aldiwan).
- [الموسوعة الشعرية](https://poetry.dctabudhabi.ae) (dctabudhabi).

## إضافة موقع جديد

*سيتم إضافة هذا الجزء لاحقًا.*
